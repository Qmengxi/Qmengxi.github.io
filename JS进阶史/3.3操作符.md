# 操作符

> 操作数据值。包括算数操作符、位操作符、关系操作符、相等操作符

ECMAScript的操作符，可以用于很多值，如：字符串、数字值、布尔值、对象

操作符在操作对象的时候，一般会先调用对象的valueOf()和(或)toString()方法，以便获取到可操作的值。

## 一、一元操作符

> 只能操作一个值的字符

**1.递增、递减操作符**

```javascript
//前置型--先加/减，再运算
++a;
--a;

//后置型--先运算，再加/减
a++;
a--;
```

适用对象：**任何值**

规则：

```
1.（String）---在应用于一个包含有效数字字符的字符串时，先将其转换为数字值，再执行加减1的操作。字符串变量变成数值变量。

2.（String）---在应用于一个不包含有效数字字符的字符串时，讲变量的值设置为NaN。字符串变量变为数值变量。

3.（Boolean）---在应用于false时，先将其转换为0，再进行加减1的操作。布尔值变量变为数值变量。

4.（Boolean）--- 在应用于true时，先将其转换为1，再进行加减1的操作。布尔值变量变为数值变量。

5.(Float)---在应用于浮点数值时，执行加减1操作。

6.（Object）---在应用于对象时，先调用对象的ValueOf()方法取得一个可供操作的值。然后应用以上规则。
如果结果是NaN，则在调用toString()方法后再应用以上规则。
对象变量变成数值变量。
```

**2.一元加、减操作符**

对非数值应用一元加、减操作符时，操作符会像Number()转型函数一样对这个值进行转换。

```javascript
//一元加，表示正数
//一元减，表示负数
var num = 25;
num1 = +num; //num1 = 25,不会有任何变化。
num2 = -num; //num2 = -25,不会有任何变化。

var s1 = "01";
s1 = +s1;//1
s1 = -s1;//-1

var s2 = "1.1";
s2 = +s2;//1.1
s2 = -s2;//-1.1

var s3 = "z";
st = +s3;//NaN
sf = -s3;//NaN

var b = false;
b = +b;//0
b = -b;//0

var f = 1.1;
f = +f;//1.1
f = -f;//-1.1

var o = {
    valueOf:function(){
        return -1;
    }
}
o = +o;//-1;
o = -o;//1;
```

## 二、位操作符

> 用于最基本的层次上，即按内存中表示数值的位来操作数值。

**1.有符号的整数**

32位中前31位表示整数的值。

第32位表示数值的符号。0表示正数，1表示负数，即符号位。

**正数以纯二进制格式存储**

**负数使用二进制补码格式进行存储**

```
//计算二进制补码
1.求这个数值绝对值的二进制码
2.求二进制反码（即0替换为1 ，1替换为0）
3.得到的二进制反码加1；
eg：-18
1.绝对值二进制码：0000 0000 0000 0000 0000 0001 0010
2.二进制反码：    1111 1111 1111 1111 1111 1110 1101
3.二进制反码+1：  1111 1111 1111 1111 1111 1110 1110

var num= -18;
num.toString(2);//"-10010"
```

**2.按位非（NOT）**

>  符号： ～
>
> 执行按位非的结果是返回数值的反码。

**操作数的负数值减1**

```javascript
var num = 25; //   0000 0000 0000 0000 0000 0000 0001 1001 
var num1 = ~num; // 1111 1111 1111 1111 1111 1111 1110 0110
console.log(num1);//-26
```

**3.按位与（AND）**

> 符号: &
>
> 规则：相同位，同为1时返回1，否则返回0

**4.按位或（OR）**

> 符号: |
>
> 规则：相同位，同为0时返回0，否则返回1

**5.按位异或（XOR）**

> 符号: ^
>
> 规则：相同位，相同为0，不同为1

**6.左移**

> 符号: <<
>
> 规则：除符号外，所有数值左移指定位数。右边空位由0填充

```
var num =2;// 0000 0000 0000 0000 0000 0000 0000 0010---2
num << 5;//   0000 0000 0000 0000 0000 0000 0100 0000---64
```

**7.有符号右移**

> 符号：>>
>
> 规则：除符号位所有数值右移。左边空位由符号位数值填充。

**8.无符号右移**

> 符号：>>>
>
> 规则：所有数值右移。左边空位由0填充。
>
> 正数无符号右移于有符号右移，数值相同
>
> 负数无符号右移，结果将作为正数处理，将会非常大。

## 三、布尔操作符

**1.逻辑非（NOT）**

> 符号：！
>
> 规则：可应用于任何值，返回布尔值。先取布尔值，然后求反。

**2.逻辑与（AND）**

> 符号：&&
>
> 规则：操作两个任意值。有一个操作数不是布尔值时，返回的结果不一定为布尔值。
>
> 第一个操作数的布尔值为true时，返回第二个操作数；
>
> 第一个操作数的布尔值为false时，返回第一个操作数，不对第一个操作数进行计算。

**3.逻辑或**

> 符号：||
>
> 规则：操作两个任意值。有一个操作数不是布尔值时，返回的结果不一定为布尔值。
>
> 第一个操作数的布尔值为true时，返回第一个操作数，不对第二个操作数进行计算。
>
> 第一个操作数的布尔值为false时，返回第二个操作数。

## 四、乘性操作符

乘法、除法、求模

操作数为非数值时，执行自动类型转换。

**1.乘法**

> 符号：*
>
> 规则：计算两个数值的乘积。若操作时不是数值，默认调用Number()将其转换为数值后再进行相乘操作。

**2.除法**

> 符号：／
>
> 规则：a/b,执行a除以b。若操作时不是数值，默认调用Number()将其转换为数值后再进行除法操作。

```javascript
0/0;   //NaN
```

**3.求模**

> 符号：%
>
> 规则：除法求余数。若操作时不是数值，默认调用Number()将其转换为数值后再进行求模运算。

* 如果被除数是无穷大值，而除数是有限大值，结果为NaN
* 若被除数是有限大的，而除数是0，结果为NaN
* Infinity%Infinity，结果为NaN

## 五、加性操作符

加法

减法

## 六、关系操作符

大于，小于，大于等于，小于等于

**规则**

1. 两个操作数都是数值--数值大小进行比较
2. 两个操作时都是字符串---字符串对应的字符编码值进行比较
3. 一个操作数为数值---将另一个转换为数值，数值大小进行比较
4. 布尔值---转换为数值进行比较
5. 对象---调用valueOf()用得到的结果进行比较。若没有valueOf(), 则调用toString(),用得到的结果进行比较。

## 七、相等操作符

**相等**和**不等**：先转换再比较

**全等**和**不全等**：仅比较，不转换

**相等(==)和不等(!=)**

1. 布尔值->false转换为0，true转换为1后进行比较
2. 字符串与数值比较，字符串转换为数值后比较
3. 对象与非对象比较，对象调用valueOf()后比较
4. null与undefined相等
5. 在比较相等性前，不能将null和undefined进行转换
6. NaN与任何数都不想等
7. 两个对象比较时，比较两个对象是否为同一对象。

**全等(===)和不全等(!==)**

不同数据类型不全等

## 八、条件操作符

> a ? b : c

## 九、赋值操作符 

"="右侧赋值给左侧

*= 乘/赋值

/= 除/赋值

%= 模/赋值

+= 加/赋值

-= 减/赋值

<<= 左移/赋值

\>\>= 有符号右移/赋值

\>\>\>= 无符号右移/赋值



## 十、 逗号操作符

> 使用都好操作符可以在一条语句中执行多个操作。

逗号操作符总会返回表达式中的最后一项。

```javascript
// 赋值
var a = 1, b = 2, c = 3;
var num = (5,4,3,2,1,0);// 最后num值为0;
```

